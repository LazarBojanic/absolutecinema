{
  "type" : "program",
  "declarations" : [ {
    "kind" : "scene",
    "name" : "add",
    "isMethod" : false,
    "returnType" : {
      "name" : "int",
      "arrayDepth" : 0
    },
    "params" : [ {
      "name" : "a",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    }, {
      "name" : "b",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    } ],
    "body" : [ {
      "stmt" : "return",
      "value" : {
        "expr" : "binary",
        "op" : "+",
        "left" : {
          "expr" : "var",
          "name" : "a"
        },
        "right" : {
          "expr" : "var",
          "name" : "b"
        }
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "square",
    "isMethod" : false,
    "returnType" : {
      "name" : "int",
      "arrayDepth" : 0
    },
    "params" : [ {
      "name" : "x",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    } ],
    "body" : [ {
      "stmt" : "return",
      "value" : {
        "expr" : "binary",
        "op" : "*",
        "left" : {
          "expr" : "var",
          "name" : "x"
        },
        "right" : {
          "expr" : "var",
          "name" : "x"
        }
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "entrance",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "call",
          "callee" : {
            "expr" : "var",
            "name" : "add"
          },
          "args" : [ 6, 2 ]
        } ]
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "call",
          "callee" : {
            "expr" : "var",
            "name" : "square"
          },
          "args" : [ 7 ]
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "isEven",
    "isMethod" : false,
    "returnType" : {
      "name" : "string",
      "arrayDepth" : 0
    },
    "params" : [ {
      "name" : "num",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    } ],
    "body" : [ {
      "stmt" : "if",
      "cond" : {
        "expr" : "binary",
        "op" : "==",
        "left" : {
          "expr" : "binary",
          "op" : "%",
          "left" : {
            "expr" : "var",
            "name" : "num"
          },
          "right" : 2
        },
        "right" : 0
      },
      "then" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "return",
          "value" : "yes"
        } ]
      },
      "else" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "return",
          "value" : "no"
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "entrance",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "call",
          "callee" : {
            "expr" : "var",
            "name" : "isEven"
          },
          "args" : [ 5 ]
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "decl" : "setup",
    "name" : "Shirt",
    "fields" : [ {
      "name" : "color",
      "type" : {
        "name" : "string",
        "arrayDepth" : 0
      }
    }, {
      "name" : "size",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    } ],
    "ctor" : {
      "kind" : "ctor",
      "name" : "Shirt",
      "params" : [ {
        "name" : "color",
        "type" : {
          "name" : "string",
          "arrayDepth" : 0
        }
      }, {
        "name" : "size",
        "type" : {
          "name" : "int",
          "arrayDepth" : 0
        }
      } ],
      "body" : [ {
        "stmt" : "expr",
        "expr" : {
          "expr" : "set",
          "object" : {
            "expr" : "this"
          },
          "name" : "color",
          "op" : "=",
          "value" : {
            "expr" : "var",
            "name" : "color"
          }
        }
      }, {
        "stmt" : "expr",
        "expr" : {
          "expr" : "set",
          "object" : {
            "expr" : "this"
          },
          "name" : "size",
          "op" : "=",
          "value" : {
            "expr" : "var",
            "name" : "size"
          }
        }
      } ]
    },
    "methods" : [ {
      "kind" : "scene",
      "name" : "getColor",
      "isMethod" : true,
      "returnType" : {
        "name" : "string",
        "arrayDepth" : 0
      },
      "params" : [ ],
      "body" : [ {
        "stmt" : "return",
        "value" : {
          "expr" : "get",
          "object" : {
            "expr" : "this"
          },
          "name" : "color"
        }
      } ]
    } ]
  }, {
    "kind" : "scene",
    "name" : "entrance",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "shirt",
        "type" : {
          "name" : "Shirt",
          "arrayDepth" : 0
        },
        "init" : {
          "expr" : "action",
          "type" : {
            "name" : "Shirt",
            "arrayDepth" : 0
          },
          "args" : [ "blue", 5 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "call",
          "callee" : {
            "expr" : "get",
            "object" : {
              "expr" : "var",
              "name" : "shirt"
            },
            "name" : "getColor"
          },
          "args" : [ ]
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "arraysDemo",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "arr1",
        "type" : {
          "name" : "double",
          "arrayDepth" : 1
        },
        "init" : {
          "expr" : "action",
          "type" : {
            "name" : "double",
            "arrayDepth" : 0
          },
          "capacity" : 3
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "arr1"
          },
          "index" : 0
        },
        "op" : "=",
        "value" : 1.0
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "arr1"
          },
          "index" : 1
        },
        "op" : "=",
        "value" : 2.0
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "arr1"
          },
          "index" : 2
        },
        "op" : "=",
        "value" : 3.0
      }
    }, {
      "stmt" : "var",
      "decl" : {
        "name" : "arr2",
        "type" : {
          "name" : "double",
          "arrayDepth" : 1
        },
        "init" : {
          "expr" : "action",
          "type" : {
            "name" : "double",
            "arrayDepth" : 0
          },
          "capacity" : 3,
          "initializer" : [ 1.0, 2.0, 3.0 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "arr1"
          },
          "index" : 0
        } ]
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "arr2"
          },
          "index" : 1
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "loopDemo",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "sum",
        "type" : {
          "name" : "int",
          "arrayDepth" : 0
        },
        "init" : 0
      }
    }, {
      "stmt" : "for",
      "init" : {
        "stmt" : "var",
        "decl" : {
          "name" : "i",
          "type" : {
            "name" : "int",
            "arrayDepth" : 0
          },
          "init" : 0
        }
      },
      "cond" : {
        "expr" : "binary",
        "op" : "<",
        "left" : {
          "expr" : "var",
          "name" : "i"
        },
        "right" : 5
      },
      "incr" : {
        "expr" : "postfix",
        "target" : {
          "expr" : "var",
          "name" : "i"
        },
        "op" : "++"
      },
      "body" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "expr",
          "expr" : {
            "expr" : "assign",
            "target" : {
              "expr" : "var",
              "name" : "sum"
            },
            "op" : "+=",
            "value" : {
              "expr" : "var",
              "name" : "i"
            }
          }
        } ]
      }
    }, {
      "stmt" : "var",
      "decl" : {
        "name" : "n",
        "type" : {
          "name" : "int",
          "arrayDepth" : 0
        },
        "init" : 3
      }
    }, {
      "stmt" : "while",
      "cond" : {
        "expr" : "binary",
        "op" : ">",
        "left" : {
          "expr" : "var",
          "name" : "n"
        },
        "right" : 0
      },
      "body" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "expr",
          "expr" : {
            "expr" : "postfix",
            "target" : {
              "expr" : "var",
              "name" : "n"
            },
            "op" : "--"
          }
        } ]
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "var",
          "name" : "sum"
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "guessingGame",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "targetWord",
        "type" : {
          "name" : "string",
          "arrayDepth" : 0
        },
        "init" : "test"
      }
    }, {
      "stmt" : "while",
      "cond" : true,
      "body" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "var",
          "decl" : {
            "name" : "guessedWord",
            "type" : {
              "name" : "string",
              "arrayDepth" : 0
            },
            "init" : {
              "expr" : "call",
              "callee" : {
                "expr" : "var",
                "name" : "capture"
              },
              "args" : [ ]
            }
          }
        }, {
          "stmt" : "if",
          "cond" : {
            "expr" : "binary",
            "op" : "!=",
            "left" : {
              "expr" : "var",
              "name" : "guessedWord"
            },
            "right" : {
              "expr" : "var",
              "name" : "targetWord"
            }
          },
          "then" : {
            "stmt" : "block",
            "body" : [ {
              "stmt" : "expr",
              "expr" : {
                "expr" : "call",
                "callee" : {
                  "expr" : "var",
                  "name" : "project"
                },
                "args" : [ "incorrect" ]
              }
            } ]
          },
          "else" : {
            "stmt" : "block",
            "body" : [ {
              "stmt" : "expr",
              "expr" : {
                "expr" : "call",
                "callee" : {
                  "expr" : "var",
                  "name" : "project"
                },
                "args" : [ "correct" ]
              }
            }, {
              "stmt" : "break"
            } ]
          }
        } ]
      }
    } ],
    "decl" : "scene"
  }, {
    "decl" : "setup",
    "name" : "Movie",
    "fields" : [ {
      "name" : "title",
      "type" : {
        "name" : "string",
        "arrayDepth" : 0
      }
    }, {
      "name" : "rating",
      "type" : {
        "name" : "double",
        "arrayDepth" : 0
      }
    } ],
    "ctor" : {
      "kind" : "ctor",
      "name" : "Movie",
      "params" : [ {
        "name" : "title",
        "type" : {
          "name" : "string",
          "arrayDepth" : 0
        }
      }, {
        "name" : "rating",
        "type" : {
          "name" : "double",
          "arrayDepth" : 0
        }
      } ],
      "body" : [ {
        "stmt" : "expr",
        "expr" : {
          "expr" : "set",
          "object" : {
            "expr" : "this"
          },
          "name" : "title",
          "op" : "=",
          "value" : {
            "expr" : "var",
            "name" : "title"
          }
        }
      }, {
        "stmt" : "expr",
        "expr" : {
          "expr" : "set",
          "object" : {
            "expr" : "this"
          },
          "name" : "rating",
          "op" : "=",
          "value" : {
            "expr" : "var",
            "name" : "rating"
          }
        }
      } ]
    },
    "methods" : [ ]
  }, {
    "kind" : "scene",
    "name" : "getAverageRating",
    "isMethod" : false,
    "returnType" : {
      "name" : "double",
      "arrayDepth" : 0
    },
    "params" : [ {
      "name" : "movies",
      "type" : {
        "name" : "Movie",
        "arrayDepth" : 1
      }
    }, {
      "name" : "moviesLength",
      "type" : {
        "name" : "int",
        "arrayDepth" : 0
      }
    } ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "sum",
        "type" : {
          "name" : "double",
          "arrayDepth" : 0
        },
        "init" : 0
      }
    }, {
      "stmt" : "for",
      "init" : {
        "stmt" : "var",
        "decl" : {
          "name" : "i",
          "type" : {
            "name" : "int",
            "arrayDepth" : 0
          },
          "init" : 0
        }
      },
      "cond" : {
        "expr" : "binary",
        "op" : "<",
        "left" : {
          "expr" : "var",
          "name" : "i"
        },
        "right" : {
          "expr" : "var",
          "name" : "moviesLength"
        }
      },
      "incr" : {
        "expr" : "postfix",
        "target" : {
          "expr" : "var",
          "name" : "i"
        },
        "op" : "++"
      },
      "body" : {
        "stmt" : "block",
        "body" : [ {
          "stmt" : "expr",
          "expr" : {
            "expr" : "assign",
            "target" : {
              "expr" : "var",
              "name" : "sum"
            },
            "op" : "+=",
            "value" : {
              "expr" : "get",
              "object" : {
                "expr" : "index",
                "array" : {
                  "expr" : "var",
                  "name" : "movies"
                },
                "index" : {
                  "expr" : "var",
                  "name" : "i"
                }
              },
              "name" : "rating"
            }
          }
        } ]
      }
    }, {
      "stmt" : "return",
      "value" : {
        "expr" : "binary",
        "op" : "/",
        "left" : {
          "expr" : "var",
          "name" : "sum"
        },
        "right" : {
          "expr" : "var",
          "name" : "moviesLength"
        }
      }
    } ],
    "decl" : "scene"
  }, {
    "kind" : "scene",
    "name" : "entrance",
    "isMethod" : false,
    "returnType" : {
      "name" : "scrap",
      "arrayDepth" : 0
    },
    "params" : [ ],
    "body" : [ {
      "stmt" : "var",
      "decl" : {
        "name" : "movies",
        "type" : {
          "name" : "Movie",
          "arrayDepth" : 1
        },
        "init" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "capacity" : 5
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "movies"
          },
          "index" : 0
        },
        "op" : "=",
        "value" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "args" : [ "Frances Ha", 7.4 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "movies"
          },
          "index" : 1
        },
        "op" : "=",
        "value" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "args" : [ "55 Steps", 6.9 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "movies"
          },
          "index" : 2
        },
        "op" : "=",
        "value" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "args" : [ "Arrival", 7.5 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "movies"
          },
          "index" : 3
        },
        "op" : "=",
        "value" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "args" : [ "Ratatouille", 7.8 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "assign",
        "target" : {
          "expr" : "index",
          "array" : {
            "expr" : "var",
            "name" : "movies"
          },
          "index" : 4
        },
        "op" : "=",
        "value" : {
          "expr" : "action",
          "type" : {
            "name" : "Movie",
            "arrayDepth" : 0
          },
          "args" : [ "Inside Out", 7.9 ]
        }
      }
    }, {
      "stmt" : "expr",
      "expr" : {
        "expr" : "call",
        "callee" : {
          "expr" : "var",
          "name" : "project"
        },
        "args" : [ {
          "expr" : "call",
          "callee" : {
            "expr" : "var",
            "name" : "getAverageRating"
          },
          "args" : [ {
            "expr" : "var",
            "name" : "movies"
          }, 5 ]
        } ]
      }
    } ],
    "decl" : "scene"
  } ]
}